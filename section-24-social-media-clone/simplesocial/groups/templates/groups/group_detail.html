{% extends "groups/group_base.html" %}
<!-- Join or Leave Group -->
{% block pregroup %}
<h1>{{group.name}}</h1>
<h2>Member Count: {{group.members.count}}</h2>

<div class="content">
  {% if user in group.members.all %}
  <a
    href="{url 'groups:leave' slug=group.slug}"
    class="btn btn-lg btn-fill btn-warning"
  >
    <span><i class="bi bi-box-arrow-right"></i></span>
    <span>Leave Group</span>
  </a>
  {% else %}
  <a
    href="{url 'groups:join' slug=group.slug}"
    class="btn btn-lg btn-fill btn-warning"
  >
    <span><i class="bi bi-check2-square"></i></span>
    <span>Join Group</span>
  </a>
  {% endif %}
</div>
{% endblock pregroup %}

<!-- Group Content -->
{% block group_content %}
<div class="col-md-8">
  {% if group.posts.count == 0 %}
  <h2>No posts in this group yet!</h2>
  {% else %} {% for post in group.posts.all %}
  <br />
  <!-- Post: include is like extends but we insert (inject) an html file -->
  {% include "posts/_post.html" %}
  <br />
  {% endif %}
</div>
{% endblock %}
